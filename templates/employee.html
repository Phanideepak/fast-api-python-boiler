{% include 'layout.html' %}

<div class="container w-100">
    <div class="card text-left">
        <div class="card-header">
             Employee  
        </div>
        <div class="card-body">
            <h5 class="card-title"> List of Employees</h5>
            <p class = "card-text">
                Info about employees
            </p>
            <table class = 'table table-hover table-responsive'>
                <thead>
                    <tr>
                        <th scope = 'col' >#</th>
                        <th scope="col">id</th>
                        <th scope="col">eid</th>
                        <th scope="col">First name</th>
                        <th scope="col">Last name</th>
                        <th scope="col">Contact</th>
                        <th scope="col">Department</th>
                        <th scope="col">Designation</th>
                        <th scope="col">Office Mail</th>
                        <th scope="col">Created By</th>
                        <th scope="col">Approval Status</th>
                        <th scope="col">Approved By</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for emp in emps %}
                    <tr class="pointer">
                        <td>{{loop.index}}</td>
                        <td>{{emp.id}}</td>
                        <td>{{emp.eid}}</td>
                        <td>{{emp.firstname}}</td>
                        <td>{{emp.lastname}}</td>
                        <td>{{emp.contact}}</td>
                        <td>{{emp.dept.name}}</td>
                        <td>{{emp.designation if emp.designation else '-'}}</td>
                        <td>{{emp.office_mail}}</td>
                        <td>{{emp.created_by.firstname + " " + emp.created_by.lastname if emp.created_by else '-'}}</td>
                        <td>{{emp.approval_status}}</td>
                        <td>{{emp.approved_by.firstname + " " + emp.approved_by.lastname if emp.approved_by else '-'}}</td>
                        <td>
                           <button onclick="window.location.href = 'edit-employee-page/{{emp.id}}'" type="button"
                            class="btn btn-info">
                              Edit
                           </button> 
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a href="add-employee-page" class="btn btn-primary">Add Employee</a>
        </div>
    </div>
</div>