{% include 'layout.html' %}

<div class="container">
    <div class="card">
        <div class="card-header">
            Editing employee with emp_id = {{emp.id}}
        </div>

        <div class="card-body">
            <form id="editEmployeeForm">
                <div class="form-group">
                    <label >First Name</label>
                    <input type="text" class="form-control" value="{{emp.firstname}}" name="firstname" required/>
                </div>

                <div class="form-group">
                    <label >Last Name</label>
                    <input type="text" class="form-control" value="{{emp.lastname}}" name="lastname" required/>
                </div>

                <div class="form-group">
                    <label >Contact</label>
                    <input type="text" class="form-control" value="{{emp.contact}}" name="contact" required/>
                </div>

                <div class="form-group">
                    <label >Designation</label>
                    <input type="text" class="form-control" value="{{emp.designation}}" name="designation" required/>
                </div>

                <div class="form-group">
                    <label >Employee Id</label>
                    <input type="text" class="form-control" value="{{emp.eid}}" name="eid" readonly="true" />
                </div>

                <div class="form-group">
                    <label >Select a Department</label>
                    <select class="form-control"  name="dept_id" required>
                        {% for dept in depts %}
                             {% if dept.id == emp.dept.id %}
                              <option value={{dept.id}} selected>{{dept.name}}</option>  
                             {% else %}
                             <option value={{dept.id}}>{{dept.name}}</option> 
                            {% endif %} 
                        {% endfor %}
                    </select>
                </div>


                <button type="submit" class="btn btn-primary" >Edit</button>

                {% if emp.approval_status != 'Approved' %}
                   <button type="button" id ="approveEmployeeButton"  class="btn btn-primary">Approve</button>
                {% endif %}

                {% if emp.is_deleted %}
                    <button type="button" id ="restoreEmployeeButton"  class="btn btn-success">Restore</button>
                {% else %}
                    <button type="button" id="deleteEmployeeButton" class="btn btn-danger">Delete</button>
                {% endif %}

                <a class="btn btn-success" href="/emp/employee-page">Back</a>
            </form>
        </div>
    </div>
</div>